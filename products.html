<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- SEO Meta Tags -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>
      Our Products - Electrical Equipment & Power Solutions | Prahil Power
    </title>
    <meta
      name="description"
      content="Browse Prahil Power's comprehensive range of electrical products including transformers, switchgear, power distribution equipment, and industrial control systems. Quality products with expert support."
    />
    <meta
      name="keywords"
      content="transformers, switchgear, electrical panels, power distribution, control systems, circuit breakers, electrical products, industrial equipment"
    />
    <meta name="author" content="Prahil Power" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://prahilpower.com/products.html" />
    <meta
      property="og:title"
      content="Our Products - Electrical Equipment & Power Solutions"
    />
    <meta
      property="og:description"
      content="Explore our comprehensive range of electrical and power products designed for reliability and efficiency."
    />
    <meta
      property="og:image"
      content="https://prahilpower.com/images/products-og.jpg"
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://prahilpower.com/products.html"
    />
    <meta
      property="twitter:title"
      content="Our Products - Electrical Equipment & Power Solutions"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
    <link rel="icon" type="image/x-icon" href="images/favicon.ico" />
    <link rel="apple-touch-icon" href="images/favicon.svg" />

    <!-- Google Fonts - Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
      integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css" />

    <!-- Schema.org Markup for Products -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "ItemList",
        "name": "Prahil Power Electrical Products",
        "description": "Comprehensive range of electrical and power solutions",
        "itemListElement": [
          {
            "@type": "Product",
            "position": 1,
            "name": "Distribution Transformer",
            "description": "High-efficiency distribution transformers for power distribution networks",
            "category": "Transformers",
            "brand": {
              "@type": "Brand",
              "name": "Prahil Power"
            }
          },
          {
            "@type": "Product",
            "position": 2,
            "name": "Medium Voltage Switchgear",
            "description": "Reliable switchgear solutions for medium voltage applications",
            "category": "Switchgear & Control Panels",
            "brand": {
              "@type": "Brand",
              "name": "Prahil Power"
            }
          }
        ]
      }
    </script>
  </head>
  <body>
    <!-- ===================================
       HEADER & NAVIGATION
       =================================== -->
    <header class="header" role="banner">
      <nav class="nav-container" role="navigation" aria-label="Main navigation">
        <!-- Logo -->
        <div class="logo">
          <img src="images/logo.svg" alt="Prahil Power Enterprise Logo" />
        </div>

        <!-- Mobile Menu Toggle -->
        <button
          class="nav-toggle"
          aria-label="Toggle navigation menu"
          aria-expanded="false"
          id="navToggle"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>

        <!-- Navigation Menu -->
        <ul class="nav-menu" id="navMenu">
          <li><a href="index.html" class="nav-link">Home</a></li>
          <li><a href="products.html" class="nav-link">Products</a></li>
          <li><a href="index.html#contact" class="nav-link">Contact</a></li>
        </ul>
      </nav>
      <!-- Mobile Navigation Backdrop -->
      <div class="nav-backdrop" id="navBackdrop"></div>
    </header>

    <!-- ===================================
       PAGE HEADER
       =================================== -->
    <section class="page-header">
      <div class="container">
        <h1>Our Products</h1>
        <p>
          Explore our comprehensive range of electrical and power solutions
          engineered for excellence and reliability
        </p>
      </div>
    </section>

    <!-- ===================================
       PRODUCTS SECTION
       =================================== -->
    <section class="section products-section">
      <div class="container">
        <div class="products-layout">
          <!-- Category Sidebar -->
          <aside class="category-sidebar" id="categorySidebar">
            <div class="category-header">
              <h3 class="sidebar-title">Categories</h3>
              <button class="category-dropdown-toggle" id="categoryDropdownToggle" aria-label="Toggle categories menu" aria-expanded="false">
                <span class="selected-category">Transformer Spares</span>
                <i class="fas fa-chevron-down"></i>
              </button>
            </div>
            <nav class="category-nav" aria-label="Product categories">
              <button class="category-item active" data-category="transformer spares">
                <span>Transformer Spares</span>
              </button>

              <button class="category-item" data-category="switchgear products">
                <span>Switchgear Products</span>
              </button>

              <button class="category-item" data-category="obsoleted products">
                <span>Obsoleted Products</span>
              </button>

              <button class="category-item" data-category="numerical relays">
                <span>Numerical Relays</span>
              </button>

              <button class="category-item" data-category="gis spares and accessories">
                <span>GIS Spares & Accessories</span>
              </button>

              <!-- <button class="category-item" data-category="mv switchgear parts">
                <span>MV Switchgear parts</span>
              </button> -->

              <button class="category-item" data-category="grease and lubricants">
                <span>Grease and Lubricants</span>
              </button>
            </nav>
          </aside>

          <!-- Main Content Area -->
          <div class="products-main-content" id="productsMainContent">
            <!-- Product Carousel View -->
            <div class="carousel-view" id="carouselView">
              <div class="carousel-header">
                <h2 id="categoryTitle">Products</h2>
              </div>

          <div class="carousel-container">
            <!-- Carousel Navigation -->
            <button
              class="carousel-nav prev"
              id="prevSlide"
              aria-label="Previous slide"
            >
              <i class="fas fa-chevron-left"></i>
            </button>

            <!-- Carousel Track -->
            <div class="carousel-track-container">
              <div class="carousel-track" id="carouselTrack">
                <!-- Slides will be dynamically inserted here -->
              </div>
            </div>

            <!-- Carousel Navigation -->
            <button
              class="carousel-nav next"
              id="nextSlide"
              aria-label="Next slide"
            >
              <i class="fas fa-chevron-right"></i>
            </button>
          </div>

          <!-- Carousel Indicators -->
          <div class="carousel-indicators" id="carouselIndicators">
            <!-- Indicators will be dynamically inserted here -->
          </div>

          <!-- Product Description Section -->
          <div class="product-description-section" id="productDescription">
            <h3 id="productDescTitle">Product Category</h3>
            <p id="productDescText" class="product-desc-text">
              Select a category to view products and their details.
            </p>

            <!-- Product List (Bullet Points) -->
            <div class="product-list-section" id="productListSection">
              <h4>Available Products:</h4>
              <ul id="productList" class="product-bullet-list">
                <!-- Product names will be dynamically inserted here -->
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    </section>

    <!-- ===================================
       FOOTER
       =================================== -->
    <footer class="footer" role="contentinfo">
      <div class="container">
        <!-- Footer Main Content -->
        <div class="footer-main">
          <div class="footer-grid">
            <!-- Company Info Section -->
            <div class="footer-col footer-brand">
              <div class="footer-logo-wrapper">
                <img
                  src="images/logo.svg"
                  alt="Prahil Power Enterprise Logo"
                  class="footer-brand-logo"
                />
              </div>
              <p class="footer-tagline">
                Empowering India's Power Sector with Excellence
              </p>
              <p class="footer-desc">
                Leading electrical engineering product sourcing, consulting &
                services provider. PAN India operations since 2023.
              </p>
            </div>

            <!-- Quick Links Section -->
            <div class="footer-col">
              <h4 class="footer-col-title">Quick Links</h4>
              <ul class="footer-menu">
                <li>
                  <a href="index.html"
                    ><i class="fas fa-chevron-right"></i> Home</a
                  >
                </li>
                <li>
                  <a href="index.html#about"
                    ><i class="fas fa-chevron-right"></i> About Us</a
                  >
                </li>
                <li>
                  <a href="index.html#why-us"
                    ><i class="fas fa-chevron-right"></i> Why Choose Us</a
                  >
                </li>
                <li>
                  <a href="products.html"
                    ><i class="fas fa-chevron-right"></i> Our Products</a
                  >
                </li>
                <li>
                  <a href="index.html#contact"
                    ><i class="fas fa-chevron-right"></i> Contact Us</a
                  >
                </li>
              </ul>
            </div>

            <!-- Connect Section -->
            <div class="footer-col">
              <h4 class="footer-col-title">Stay Connected</h4>
              <p class="footer-connect-text">
                Follow us on social media for latest updates, industry insights,
                and innovative solutions.
              </p>

              <!-- Social Media Links -->
              <div class="footer-social">
                <a
                  href="https://facebook.com"
                  class="footer-social-btn"
                  aria-label="Facebook"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <i class="fab fa-facebook-f"></i>
                </a>
                <a
                  href="https://instagram.com"
                  class="footer-social-btn"
                  aria-label="Instagram"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <i class="fab fa-instagram"></i>
                </a>
                <a
                  href="https://www.linkedin.com/company/prahil-power-enterprise"
                  class="footer-social-btn"
                  aria-label="LinkedIn"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <i class="fab fa-linkedin-in"></i>
                </a>
                <a
                  href="https://twitter.com"
                  class="footer-social-btn"
                  aria-label="Twitter"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <i class="fab fa-twitter"></i>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Footer Bottom -->
        <div class="footer-bottom">
          <div class="footer-bottom-wrapper">
            <div class="footer-copyright">
              <p>
                &copy; 2025 <strong>Prahil Power Enterprise</strong>. All Rights
                Reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Image Modal -->
    <div
      id="imageModal"
      class="image-modal"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modalImage"
      aria-hidden="true"
    >
      <span class="image-modal-close" aria-label="Close modal" tabindex="0">&times;</span>
      <img
        class="image-modal-content"
        id="modalImage"
        alt="Enlarged product image"
      />
      <div class="image-modal-caption" id="imageCaption"></div>
    </div>

    <!-- ===================================
       JAVASCRIPT
       =================================== -->
    <script>
      // Mobile Navigation Toggle
      const navToggle = document.getElementById("navToggle");
      const navMenu = document.getElementById("navMenu");
      const navBackdrop = document.getElementById("navBackdrop");

      navToggle.addEventListener("click", () => {
        const isExpanded = navToggle.getAttribute("aria-expanded") === "true";
        navToggle.setAttribute("aria-expanded", !isExpanded);
        navMenu.classList.toggle("active");
        navBackdrop.classList.toggle("active");
        document.body.style.overflow = !isExpanded ? "hidden" : "";
      });

      navBackdrop.addEventListener("click", () => {
        navMenu.classList.remove("active");
        navBackdrop.classList.remove("active");
        navToggle.setAttribute("aria-expanded", "false");
        document.body.style.overflow = "";
      });

      const navLinks = document.querySelectorAll(".nav-link");
      navLinks.forEach((link) => {
        link.addEventListener("click", () => {
          navMenu.classList.remove("active");
          navBackdrop.classList.remove("active");
          navToggle.setAttribute("aria-expanded", "false");
          document.body.style.overflow = "";
        });
      });

      // ===================================
      // PRODUCTS CAROUSEL FUNCTIONALITY
      // ===================================

      const productData = {
        "transformer spares": {
          title: "Transformer Spares",
          description:
            "PPE is fully geared to supply all spares of all ratings, makes, models of transformer. Spares are procured and checked as per standard quality norms set by us. Spares are procured from approved sources m Minimum cycle time through planning, foresight, focus and thrust. All Spares & accessories are available with us like:",
          images: [
            {
              src: "images/products/transformer spares/transformer.jpg",
              alt: "Power Transformer",
            },
            {
              src: "images/products/transformer spares/transformer2.jpg",
              alt: "Distribution Transformer",
            },
            {
              src: "images/products/transformer spares/spares 5.jpg",
              alt: "Transformer Spare Parts",
            },
            {
              src: "images/products/transformer spares/transformer spares 1.jpg",
              alt: "Transformer Components Kit",
            },
            {
              src: "images/products/transformer spares/transformer spares 2.png",
              alt: "Transformer Accessories",
            },
          ],
          products: [
            "Transformer Oil (Mineral/Ester)",
            "Buchholz Relay",
            "Magnetic Oil Level Gauge Relay",
            "Oil Surge Relay",
            "Pressure Relief Valves",
            "Breathers (Clear View/Metallic)",
            "Silica Gel",
            "Oil Temperature Indicator",
            "Winding Temperature Indicator",
            "Marshalling Box",
            "Oil Thermometers",
            "Tap Changer Switch & Handle",
            "Bushing Insulators HT & LT (Epoxy Bushing/Ceramic)",
            "Bushing Rod HT & LT",
            "Radiators",
            "Valves (Radiator Valves/Drain Valves)",
            "Gaskets & Oil Seals",
            "AVR Relay & TPI for RTCC Panel",
            "Phase Board",
            "Bushing Board",
            "Energy Accumulator Assembly",
            "Epoxy Arm Assembly",
            "Oil Seals & Gaskets",
            "Copper Tubes & Tapper Pins",
            "AVR Relay & TPI for RTCC Panel",
          ],
        },
        "switchgear products": {
          title: "Switchgear Products",
          description:
            "LV (low voltage) switchgear products include a variety of components like circuit breakers (MCCB, MCB, ACB), switches, fuses, contactors, and control panels, used to control, protect, and isolate electrical systems operating below 1,000 volts. These products are assembled into assemblies like distribution boards and cabinets to manage power in residential, commercial, and industrial settings.",
          images: [
            {
              src: "images/products/switchgear products/schneider-gv2me03-mpcb-1000x1000.webp",
              alt: "Schneider MPCB Motor Protection Circuit Breaker",
            },
            {
              src: "images/products/switchgear products/L&T.jpg",
              alt: "L&T Switchgear Products",
            },
            {
              src: "images/products/switchgear products/l-t-rccb-25amp-4pole-100ma-bc402510-1000x1000.jpg",
              alt: "L&T RCCB Residual Current Circuit Breaker",
            },
            {
              src: "images/products/switchgear products/contactors.webp",
              alt: "Electrical Contactors",
            },
            {
              src: "images/products/switchgear products/switchgear-components1.jpg",
              alt: "Switchgear Components Assembly",
            },
          ],
          products: [
            "Rotary & Load Break Switches",
            "Timing Devices & supply monitors ",
            "Modular Remote control units",
            "Digital panel meters"
          ],
        },
        "obsoleted products": {
          title: "Obsoleted Products",
          description:
            "Specialized in sourcing discontinued and obsolete protection relays from ABB, Alstom, and other legacy systems. Expert support for replacement parts and modern equivalents.",
          images: [
            {
              src: "images/products/obsoleted products/ABB 1 Relay.jpeg",
              alt: "ABB Discontinued Protection Relay",
            },
            {
              src: "images/products/obsoleted products/Alstom relays.jpg",
              alt: "Alstom Legacy Protection Relays",
            },
            {
              src: "images/products/obsoleted products/ABB 3 relay .jpeg",
              alt: "ABB Vintage Relay Module",
            },
            {
              src: "images/products/obsoleted products/TCS relay.webp",
              alt: "TCS Protection Relay",
            },
            {
              src: "images/products/obsoleted products/No volt relay .jpeg",
              alt: "No Voltage Release Relay",
            },
          ],
          products: [
            "ABB Discontinued Relay Models",
            "Alstom Legacy Protection Systems",
            "Vintage Electromechanical Relays",
            "Obsolete Static Relays",
            "TCS & Tripcon Relays",
            "No-Volt & Under-Volt Relays",
            "Legacy Numerical Relays",
            "Discontinued Control Modules",
            "Spare Parts for Old Systems",
            "Retrofit & Upgrade Solutions",
          ],
        },
        "numerical relays": {
          title: "Numerical Relays",
          description:
            "Advanced numerical protection relays from ABB, Siemens (Reyrolle), and GE. Digital technology for comprehensive power system protection with intelligent diagnostics and communication.",
          images: [
            {
              src: "images/products/numerical relays/ABB Numerical relay.webp",
              alt: "ABB Numerical Protection Relay",
            },
            {
              src: "images/products/numerical relays/Siemens Numerical relay.webp",
              alt: "Siemens Numerical Relay",
            },
            {
              src: "images/products/numerical relays/Siemens _ Directional-Overcurrent-Protection-Reyrolle.webp",
              alt: "Siemens Reyrolle Directional Overcurrent Protection",
            },
            {
              src: "images/products/numerical relays/GE relays.jpg",
              alt: "GE Multilin Protection Relays",
            },
            {
              src: "images/products/numerical relays/Siemens Relays _reyrolle5-protection-relay-medium-voltage.webp",
              alt: "Siemens Reyrolle Medium Voltage Protection",
            },
          ],
          products: [
            "ABB REF/REM Series Protection Relays",
            "Siemens Reyrolle Protection Relays",
            "GE Multilin SR/UR Series",
            "Overcurrent & Earth Fault Protection",
            "Differential Protection Relays",
            "Distance Protection Units",
            "Motor & Generator Protection",
            "Transformer Protection Relays",
            "Feeder Management Relays",
            "Bay Control & Protection Systems",
          ],
        },
        "gis spares and accessories": {
          title: "GIS Spares & Accessories",
          description:
            "Gas Insulated Switchgear components including SF6 density monitors, contacts, and critical spare parts. Ensuring reliability and safety for high-voltage GIS installations.",
          images: [
            {
              src: "images/products/gis spares and accessories/1_3 contacts Density monitor .jpeg",
              alt: "GIS Contacts and SF6 Density Monitor",
            },
            {
              src: "images/products/gis spares and accessories/2_Density monitor 2.jpeg",
              alt: "SF6 Gas Density Monitor System",
            }
          ],
          products: [
            "SF6 Gas Density Monitors",
            "GIS Control & Monitoring Accessories",
          ],
        },
        "grease and lubricants": {
          title: "Grease and Lubricants",
          description:
            "Premium electrical-grade greases, lubricants, and compounds from Molykote and Metroark. Specialized formulations for high-voltage applications, insulation, corrosion protection, and extreme operating conditions in power transmission and distribution systems.",
          images: [
            {
              src: "images/products/Grease and Lubricants/molykote-electrical-insulating-19.jpg",
              alt: "Molykote Electrical Insulating Compound",
            },
            {
              src: "images/products/Grease and Lubricants/molykote-hvic-high-voltage-insulator-coating-17.jpg",
              alt: "Molykote HVIC High Voltage Insulator Coating",
            },
            {
              src: "images/products/Grease and Lubricants/wacker-metroark-silicone-2.webp",
              alt: "Wacker Metroark Silicone Compound",
            },
            {
              src: "images/products/Grease and Lubricants/molykote-compound-10.jpg",
              alt: "Molykote Compound Range",
            },
            {
              src: "images/products/Grease and Lubricants/molykote-paste-25.jpg",
              alt: "Molykote Specialty Pastes",
            },
          ],
          products: [
            "Molykote 4 Electrical Insulating Compound",
            "Molykote 5 Compound (High Voltage Applications)",
            "Molykote 55 O-Ring Grease",
            "Molykote 111 Compound (Silicone-Free)",
            "Molykote HVIC (High Voltage Insulator Coating)",
            "Molykote DX Paste (Anti-Seize & Lubricant)",
            "Molykote HTP Paste (High Temperature)",
            "Molykote EM-30L Grease (Electric Motor)",
            "Molykote G-807 Low Friction Silicone Compound",
            "Molykote BR-3 (Contact & Busbar Protection)",
            "Molykote D-Paste (Dielectric Grease)",
            "Molykote Z-Powder (Dry Lubricant)",
            "Molykote L-8030 Lubricant",
            "Molykote L-13 Thinner",
            "Molykote FS-841 Grease (Food Safe)",
            "Molykote Food Machinery Oil Spray",
            "Metroark Silicone Compound",
            "Wacker Metroark Silicone (RTV Coating)",
            "Silicone Grease (General Purpose)",
            "Anti-Corrosion Compounds",
          ],
        },
      };

      // Get DOM elements
      const carouselView = document.getElementById("carouselView");
      const categoryTitle = document.getElementById("categoryTitle");
      const carouselTrack = document.getElementById("carouselTrack");
      const prevSlide = document.getElementById("prevSlide");
      const nextSlide = document.getElementById("nextSlide");
      const carouselIndicators = document.getElementById("carouselIndicators");
      const productDescTitle = document.getElementById("productDescTitle");
      const productDescText = document.getElementById("productDescText");
      const productList = document.getElementById("productList");

      let currentSlideIndex = 0;
      let currentCategory = null;

      // Dropdown toggle functionality
      const categoryDropdownToggle = document.getElementById("categoryDropdownToggle");
      const categoryNav = document.querySelector(".category-nav");
      
      if (categoryDropdownToggle) {
        categoryDropdownToggle.addEventListener("click", (e) => {
          e.stopPropagation();
          const isExpanded = categoryDropdownToggle.getAttribute("aria-expanded") === "true";
          categoryDropdownToggle.setAttribute("aria-expanded", !isExpanded);
          categoryNav.classList.toggle("active");
          
          // Smooth scroll to top of dropdown when opening on mobile
          if (!isExpanded && window.innerWidth <= 1024) {
            setTimeout(() => {
              categoryNav.scrollTop = 0;
            }, 50);
          }
        });
        
        // Keyboard accessibility for dropdown
        categoryDropdownToggle.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            categoryDropdownToggle.click();
          }
        });
      }

      // Category sidebar click handlers
      const categoryItems = document.querySelectorAll(".category-item");
      categoryItems.forEach((item) => {
        item.addEventListener("click", () => {
          const category = item.getAttribute("data-category");
          const categoryText = item.querySelector("span").textContent;
          
          // Update active state
          categoryItems.forEach((cat) => cat.classList.remove("active"));
          item.classList.add("active");
          
          // Update dropdown button text on mobile
          if (window.innerWidth <= 1024) {
            const selectedCategory = document.querySelector(".selected-category");
            if (selectedCategory) {
              selectedCategory.textContent = categoryText;
            }
            // Close dropdown after selection with smooth animation
            categoryNav.classList.remove("active");
            categoryDropdownToggle.setAttribute("aria-expanded", "false");
            
            // Scroll to products on mobile for better UX
            setTimeout(() => {
              const productsMain = document.getElementById("productsMainContent");
              if (productsMain) {
                productsMain.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
              }
            }, 300);
          }
          
          showCategoryProducts(category);
        });
        
        // Keyboard accessibility for category items
        item.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            item.click();
          }
        });
      });

      // Load default category on page load
      window.addEventListener("DOMContentLoaded", () => {
        showCategoryProducts("transformer spares");
      });
      
      // Close dropdown when clicking outside
      document.addEventListener("click", (e) => {
        if (categoryDropdownToggle && categoryNav) {
          const isClickInside = e.target.closest(".category-sidebar");
          if (!isClickInside && categoryNav.classList.contains("active")) {
            categoryNav.classList.remove("active");
            categoryDropdownToggle.setAttribute("aria-expanded", "false");
          }
        }
      });
      
      // Handle window resize - close dropdown and reset on desktop
      let resizeTimer;
      window.addEventListener("resize", () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
          if (window.innerWidth > 1024 && categoryNav && categoryDropdownToggle) {
            categoryNav.classList.remove("active");
            categoryDropdownToggle.setAttribute("aria-expanded", "false");
          }
        }, 250);
      });

      // Show category products in carousel
      function showCategoryProducts(category) {
        currentCategory = category;
        const data = productData[category];

        if (!data) return;

        // Update title and description
        categoryTitle.textContent = data.title;
        productDescTitle.textContent = data.title;
        productDescText.textContent = data.description;

        // Clear and populate carousel
        carouselTrack.innerHTML = "";
        carouselIndicators.innerHTML = "";

        data.images.forEach((image, index) => {
          // Create slide
          const slide = document.createElement("div");
          slide.className = "carousel-slide";
          slide.innerHTML = `<img src="${image.src}" alt="${image.alt}" loading="lazy">`;
          carouselTrack.appendChild(slide);

          // Create indicator
          const indicator = document.createElement("button");
          indicator.className = `carousel-indicator ${
            index === 0 ? "active" : ""
          }`;
          indicator.setAttribute("aria-label", `Slide ${index + 1}`);
          indicator.addEventListener("click", () => goToSlide(index));
          carouselIndicators.appendChild(indicator);
        });

        // Populate product list
        productList.innerHTML = "";
        data.products.forEach((product) => {
          const li = document.createElement("li");
          li.innerHTML = `<span>${product}</span>`;
          productList.appendChild(li);
        });

        // Reset carousel position
        currentSlideIndex = 0;
        updateCarousel();
      }

      // Carousel navigation
      prevSlide.addEventListener("click", () => {
        if (currentSlideIndex > 0) {
          currentSlideIndex--;
          updateCarousel();
        }
      });

      nextSlide.addEventListener("click", () => {
        const data = productData[currentCategory];
        if (data && currentSlideIndex < data.images.length - 1) {
          currentSlideIndex++;
          updateCarousel();
        }
      });


      // Go to specific slide
      function goToSlide(index) {
        currentSlideIndex = index;
        updateCarousel();
      }

      // Update carousel display
      function updateCarousel() {
        const data = productData[currentCategory];
        if (!data) return;

        // Update track position
        const offset = -currentSlideIndex * 100;
        carouselTrack.style.transform = `translateX(${offset}%)`;

        // Update indicators
        const indicators = carouselIndicators.querySelectorAll(
          ".carousel-indicator"
        );
        indicators.forEach((indicator, index) => {
          indicator.classList.toggle("active", index === currentSlideIndex);
        });

        // Update navigation buttons
        prevSlide.disabled = currentSlideIndex === 0;
        nextSlide.disabled = currentSlideIndex === data.images.length - 1;
      }

      // Keyboard navigation
      document.addEventListener("keydown", (e) => {
        if (carouselView.style.display === "block") {
          if (e.key === "ArrowLeft" && !prevSlide.disabled) {
            prevSlide.click();
          } else if (e.key === "ArrowRight" && !nextSlide.disabled) {
            nextSlide.click();
          }
        }
      });

      // Touch/swipe support for mobile
      let touchStartX = 0;
      let touchEndX = 0;
      let touchStartY = 0;
      let touchEndY = 0;

      carouselTrack.addEventListener("touchstart", (e) => {
        touchStartX = e.changedTouches[0].screenX;
        touchStartY = e.changedTouches[0].screenY;
      }, { passive: true });

      carouselTrack.addEventListener("touchend", (e) => {
        touchEndX = e.changedTouches[0].screenX;
        touchEndY = e.changedTouches[0].screenY;
        handleSwipe();
      }, { passive: true });

      function handleSwipe() {
        const swipeThreshold = 50;
        const horizontalSwipe = Math.abs(touchStartX - touchEndX);
        const verticalSwipe = Math.abs(touchStartY - touchEndY);
        
        // Only handle horizontal swipes (ignore vertical scrolling)
        if (horizontalSwipe > verticalSwipe && horizontalSwipe > swipeThreshold) {
          if (touchStartX - touchEndX > swipeThreshold && !nextSlide.disabled) {
            nextSlide.click();
          } else if (
            touchEndX - touchStartX > swipeThreshold &&
            !prevSlide.disabled
          ) {
            prevSlide.click();
          }
        }
      }
    </script>
  </body>
</html>
